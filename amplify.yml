version: 1
frontend:
  phases:
    preBuild:
      commands:
        - rm -rf shimmer-amplify/node_modules
        - cd shimmer-amplify
        - npm ci
        - npm install -g @angular/cli
        - npm install -D tailwindcss postcss autoprefixer
    build:
      commands:
        - ng build --configuration production
        - ls -l dist/shimmer-amplify/browser
  artifacts:
    baseDirectory: shimmer-amplify/dist/shimmer-amplify/browser
    files:
      - '**/*'
  cache:
    paths:
      - shimmer-amplify/node_modules/**/*
